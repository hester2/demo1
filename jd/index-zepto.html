<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>

    <title></title>
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/index.css">
    <!--<script src="js/index.js"> </script>-->
    <script src="zepto-master/src/zepto.min.js"></script>
    <script src="zepto-master/src/selector.js"></script>
</head>
<body>
   <div class="j_t">
       <!--搜索栏-->
       <div class="j_search">
           <a href="" class="j_logo"></a>
           <form action="" method="" class="j_searchbox">
               <input type="text" placeholder="请输入商品名称"/>
           </form>
           <a href="" class="j_login">登录</a>
       </div>
       <!--轮播图-->
       <div class="j_banner clearfix">
           <ul class="j_bannerimg clearfix">
               <li>
                   <a href="">
                       <img src="uploads/l1.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l2.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l3.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l4.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l5.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l6.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l7.jpg"/>
                   </a>
               </li>
               <li>
                   <a href="">
                       <img src="uploads/l8.jpg"/>
                   </a>
               </li>
           </ul>
           <!--小圆点-->
           <ol class="j_bannerdian">
               <li class="wihte"></li>
               <li></li>
               <li></li>
               <li></li>
               <li></li>
               <li></li>
               <li></li>
               <li></li>
           </ol>
       </div>
       <!--导航栏-->
       <div class="j_nav">
           <ul>
               <li>
                   <a href="">
                       <img src="./images/nav_1.png" alt=""/>
                       <p>商品分类</p>
                   </a>
               </li>
               <li>
                   <img src="./images/nav_2.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_3.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_4.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_5.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_6.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_7.png" alt=""/>
                   <p>商品分类</p>
               </li>
               <li>
                   <img src="./images/nav_8.png" alt=""/>
                   <p>商品分类</p>
               </li>
           </ul>
       </div>
       <!--主体-->
       <div class="j_bd">
           <!--时间-->
           <div class="j_bdbox clearfix">
             <div class="j_hour">
                 <div class="j_l f_left">
                     <span class="j_icon"></span>
                     <span class="j_mz">掌上明珠</span>
                     <div class="j_shijian">
                         <span>0</span>
                         <span>0</span>
                         <span>:</span>
                         <span>0</span>
                         <span>0</span>
                         <span>:</span>
                         <span>0</span>
                         <span>0</span>
                     </div>
                 </div>
                 <div class="j_r f_right">更多秒杀...</div>
             </div>
               <div class="j_tu1">
                   <ul class="clearfix">
                       <li>
                           <a href="">
                               <img src="./uploads/detail01.jpg"/>
                           </a>
                           <p>￥10.00</p>
                           <p>￥20.00</p>
                       </li>
                       <li>
                           <a href="">
                               <img src="./uploads/detail01.jpg"/>
                           </a>
                           <p>￥10.00</p>
                           <p>￥20.00</p>
                       </li>
                       <li>
                           <a href="">
                               <img src="./uploads/detail01.jpg"/>
                           </a>
                           <p>￥10.00</p>
                           <p>￥20.00</p>
                       </li>
                   </ul>
               </div>
           </div>
           <!--京东超市-->
           <!--模块1-->
           <div class="j_bdbox clearfix">
               <div class="j_jd">
                    <h3>京东超市</h3>
               </div>
               <div class="j_tu2">
                   <a href="" class="j_a50 f_left">
                       <img src="./uploads/cp1.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left b_bottom">
                       <img src="./uploads/cp2.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left">
                       <img src="./uploads/cp3.jpg"/>
                   </a>
               </div>
           </div>
           <!--模块2-->
           <div class="j_bdbox clearfix">
               <div class="j_jd">
                   <h3>京东超市</h3>
               </div>
               <div class="j_tu2">
                   <a href="" class="j_a50 f_right">
                       <img src="./uploads/cp4.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left b_bottom">
                       <img src="./uploads/cp5.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left">
                       <img src="./uploads/cp6.jpg"/>
                   </a>
               </div>
           </div>
           <!--模块3-->
           <div class="j_bdbox clearfix">
               <div class="j_jd">
                   <h3>京东超市</h3>
               </div>
               <div class="j_tu2">
                   <a href="" class="j_a50 f_left">
                       <img src="./uploads/cp1.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left b_bottom">
                       <img src="./uploads/cp2.jpg"/>
                   </a>
                   <a href="" class="j_a50 f_left b_left">
                       <img src="./uploads/cp3.jpg"/>
                   </a>
               </div>
           </div>
       </div>
   </div>
   <script>
     $(function(){
//         1,添加收尾图片

         var banner=$(".j_banner");
         var bannerWidth=banner.width();
         console.log(bannerWidth);
//           获取图片盒子
         var imgBox=banner.find("ul:first-of-type");
//         获取点标记
         var indicators=banner.find(".j_bannerdian").find("li");
//         获取首尾两张图片6
         var first=imgBox.find("li:first-of-type");
         var last=imgBox.find("li:last-of-type");
         /*将两张图片添加到首尾位置  first.clone():将first复制一份*/
         imgBox.append(first.clone());
         last.clone().insertBefore(first);
//         设置图片盒子的宽度
         var lis=imgBox.find("li");
         var count=lis.length;
         imgBox.width(count*bannerWidth);
//         设置li标签的宽度
         lis.width(bannerWidth);
//           设置默认偏移
         imgBox.css("left",-bannerWidth);

         var index=1;

         var imgAnimation=function(){
             imgBox.animate(
                     {"left":-index*bannerWidth},
                     200,
                     "ease-in-out",
                     function(){ //动画执行完毕之后的回调
                         /*判断当前索引位置是否是最后一张或者第一张*/
                         if(index==count-1){ //最后张
                             index=1;
                             /*让它瞬间偏移到索引1的位置--非过渡*/
                             imgBox.css("left",-index*bannerWidth);
                         }
                         else if(index==0){
                             index=count-2;
                             imgBox.css("left",-index*bannerWidth);
                         }
                         /*设置点标记*/
                         indicators.removeClass("wihte").eq(index-1).addClass("wihte");
                     }
             );
         };

         /*开启定时器*/
         var timerId=setInterval(function(){
             index++;
             imgAnimation();
         },2000);

         /*添加滑动事件*/
//        /*左滑动*/
         imgBox.on("swipeLeft",function(){
             clearInterval(timerId);
             index++;
             imgAnimation();
         });
         /*右滑动*/
         imgBox.on("swipeRight",function(){
             clearInterval(timerId);
             index--;
             imgAnimation();
         });
     });
   </script>
</body>
</html>